version: "3"

services:
  node-red:
    image: nodered/node-red:latest-minimal
#    image: nodered/node-red:latest-debian
    container_name: node-red
    hostname: node-red
    ports:
      - 61008:1880
      - 62008:443
      - 63018:63018
    networks:
      revproxy:
        ipv4_address: 10.0.0.8
    environment:
      NODE_ENV: 'dev'
    user: "1000:1000"
#    user: "root"
    volumes:
      - /data/common/resolv.conf:/etc/resolv.conf:ro
      - /data/node-red/:/data/
      - /data/acme/:/acme/
      - /data/logs/:/logs/
      - /UnsecurePool/commonshare/Torrent/:/sd/downloads/
      - /SecurePool/common-data/:/sd/downloads-personal/
      - /fastboi/:/sd/fastboi/
    restart: unless-stopped
#    privileged: true

networks:
  revproxy:
    name: revproxy
    external: true
